<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="/styles.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github-dark.min.css"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/typescript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/bash.min.js"></script>
  
    <meta property="og:title" content="Raspberry Pi Media Server with Kodi and ExFAT External Drive" />
    <meta name="twitter:title" content="Raspberry Pi Media Server with Kodi and ExFAT External Drive" />
    <meta name="description" content="&gt; Written January 7th, 2023" />
    <meta property="og:description" content="&gt; Written January 7th, 2023" />
    <meta name="twitter:description" content="&gt; Written January 7th, 2023" />
    <meta name="twitter:card" content="summary" />
  </head>

  <body>
    <div class="coverimage"></div>
    <div class="container">
      <div class="nav">
        <a class="link" href="/">Home üè°</a>
        <a class="link" href="/programming">Programming üíª</a>
        <a class="link" href="/music">Music üé∏</a>
        <a class="link" href="/climbing">Climbing üßó</a>
      </div>
      <div class="block">
        <a style="display: none;" class="back" id="backLink" href="#"> <- Go Back</a>
        <h1 id="raspberry-pi-media-server-with-kodi-and-exfat-external-drive">Raspberry Pi Media Server with Kodi and ExFAT External Drive</h1>
<blockquote>
<p>Written January 7th, 2023</p>
</blockquote>
<p>I wrote this so I won't forget the steps to make our media server in case I have to format my SD card. A lot of the resources to do this were scattered around the internet, so I thought I would compile them into my own post.</p>
<p>Materials:</p>
<blockquote>
<ul>
<li>Raspberry Pi 3
</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>16GB MicroSD
</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>TV
</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>HDMI Cable
</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>Keyboard
</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>2 USB Cables
</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>1TB External Drive
</li>
</ul>
</blockquote>
<h1 id="install-raspberry-pi-lite-os">Install Raspberry Pi Lite OS</h1>
<ol>
<li>
<p>Get the <a href="https://www.raspberrypi.com/software/">Raspberry Pi image installer</a></p>
</li>
<li>
<p>Write Raspberry PI OS Lite to the 16GB MicroSD.</p>
</li>
<li>
<p>Plug in Raspberry Pi with the SD card, keyboard, and TV hooked up</p>
</li>
<li>
<p>Login</p>
</li>
</ol>
<pre><code class="language-bash">raspberrypi login: pi
Password: raspberry
</code></pre>
<h1 id="setup-wifi">Setup WIFI</h1>
<pre><code class="language-bash">sudo raspi-config
</code></pre>
<ol>
<li>
<p>Localization Options</p>
</li>
<li>
<p>WLAN Country Set...</p>
</li>
<li>
<p>Pick country</p>
</li>
</ol>
<p>You may also want to localize your keyboard while in this menu.</p>
<ol start="4">
<li>
<p>Finish and Reboot</p>
</li>
<li>
<p>Finish setup in terminal</p>
</li>
</ol>
<pre><code class="language-bash">sudo nano /etc/wpa_supplicant/wpa_supplicant.conf
</code></pre>
<pre><code class="language-bash">country=US
ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev
update_config=1
# add wifi name and password
network={
 ssid=&quot;YOURWIFI&quot;
 psk=&quot;YOURPASSWORD&quot;
}
</code></pre>
<p>click <code>Ctrl X</code>, <code>Y</code>, <code>Enter</code></p>
<pre><code class="language-bash">reboot
</code></pre>
<h1 id="setup-ssh">Setup SSH</h1>
<blockquote>
<ul>
<li>(optional but makes copy pasting commands from the web much easier)
</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>With SSH enabled you can login to your raspberry pi from other computers
</li>
</ul>
</blockquote>
<pre><code class="language-bash">sudo raspi-config
</code></pre>
<ol>
<li>
<p>Go to interface options</p>
</li>
<li>
<p>Enable SSH</p>
</li>
</ol>
<p>Open the terminal on another computer and enter</p>
<pre><code>arp -a
</code></pre>
<p>This should show you the pi@raspberry on your network. Mine is <code>raspberrypi.attlocal.net</code>.</p>
<p>Which means to ssh into this computer I can run this command:</p>
<pre><code>ssh pi@raspberrypi.attlocal.net
</code></pre>
<p>Now you can run commands from another computer.</p>
<h1 id="add-movies-to-external-drive">Add movies to external drive</h1>
<ol>
<li>
<p>Format your external hard drive to ExFAT</p>
</li>
<li>
<p>Add your movies from your computer to it that you have obtained legally</p>
</li>
</ol>
<h1 id="install-kodi-exfat-fuse-and-fsauto">Install Kodi, exfat-fuse, and fsauto</h1>
<ol>
<li>Install dependencies
</li>
</ol>
<pre><code>sudo apt-get update
</code></pre>
<pre><code>sudo apt-get install kodi
</code></pre>
<pre><code>sudo apt-get install exfat-fuse exfat-utils
</code></pre>
<ol start="2">
<li>Reboot and plug in your external hard drive to the usb port
</li>
</ol>
<pre><code>reboot
</code></pre>
<h1 id="auto-mount-your-external-hard-drive">Auto mount your external hard drive</h1>
<ol>
<li>Install autofs
</li>
</ol>
<pre><code>sudo apt-get install autofs
</code></pre>
<ol start="2">
<li>Configure with your drive info
</li>
</ol>
<pre><code class="language-bash">sudo nano /etc/auto.master
</code></pre>
<p>Add this to the file</p>
<pre><code class="language-bash">/media  /etc/auto.usb  --timeout=60 --ghost
</code></pre>
<p>click <code>Ctrl X</code>, <code>Y</code>, <code>Enter</code></p>
<ol start="3">
<li>Find the UUID of your hard drive and add it to auto.usb
</li>
</ol>
<pre><code>sudo blkid
</code></pre>
<p>Copy the UUID of your drive</p>
<pre><code class="language-bash">sudo nano /etc/auto.usb
</code></pre>
<p>add this line</p>
<pre><code>movies -fstype=auto,uid-pi,gid=pi,rw UUID=YOUR-UUID
</code></pre>
<p>click <code>Ctrl X</code>, <code>Y</code>, <code>Enter</code></p>
<p>Restart autofs</p>
<pre><code>sudo systemctl restart autofs.service
</code></pre>
<h1 id="make-kodi-boot-on-start">Make Kodi boot on start</h1>
<pre><code class="language-bash">sudo crontab -e
</code></pre>
<p>Pick nano, or whichever editor you like.</p>
<p>add this line:</p>
<pre><code class="language-bash">@reboot kodi --standalone
</code></pre>
<p>If you are using <code>nano</code>, you know the drill: <code>Ctrl X</code>, <code>Y</code>, <code>Enter</code></p>
<pre><code>reboot
</code></pre>
<h1 id="add-movie-metadata">Add Movie Metadata</h1>
<ol>
<li>
<p>Go to movies, Click <code>Enter files section</code></p>
</li>
<li>
<p>Click <code>+ Add videos</code> and then <code>Browse</code> into folder where your movies are</p>
</li>
<li>
<p>Set the directory contains type to <code>movies</code> for scraping data</p>
</li>
<li>
<p>Click options in the lower left corner to <code>Update library</code> under <code>Actions</code></p>
</li>
</ol>
<p>When you go back to the movies screen you should see all of the metadata for the movies on your drive.</p>
<h1 id="setup-remote">Setup Remote</h1>
<ol>
<li>
<p>Go to <code>Settings</code> via the gear icon, then =&gt; <code>Service Settings</code> =&gt; <code>Control</code></p>
</li>
<li>
<p>Toggle <code>Allow remote control via HTTP</code> and <code>Toggle remote control from applications on other systems</code></p>
</li>
<li>
<p>Download the Kodi app on the Apple or Android store.</p>
</li>
<li>
<p>Click <code>Find Kodi</code> on the mobile app and enter your username and password: <code>pi</code> and <code>raspberry</code> if you still haven't reset the password. You can and should change the password for your raspberry pi user via the <code>raspi-config</code> command.</p>
</li>
</ol>
<p>üçø Congrats! You are now running your own media server on a raspberry pi! üçø</p>

      </div>
      <div class="footer">
        <!-- socials -->
         Socials:
         <a href="https://mastodon.world/@zerocool">
          <img
            src="https://raw.githubusercontent.com/jottenlips/jottenlips.github.io/refs/heads/main/mastodon.png"
            style="width: 16px; height: 16px"
            alt="mastodon"
          />
          Mastodon
         </a>
        <a class="link" href="https://github.com/jottenlips">
          <img
            style="width: 16px; height: 16px"
            src="https://img.icons8.com/ios-filled/50/000000/git.png"
            alt="github"
          />
          Github
        </a>
        <a class="link" href="https://ottobahn.bandcamp.com/">
          <img
            style="width: 16px; height: 16px"
            src="https://upload.wikimedia.org/wikipedia/commons/e/e1/Bandcamp-button-circle-green.svg"
            alt="bandcamp"
          />
          Bandcamp
        </a>
        
        <a
          class="link"
          href="https://www.mountainproject.com/user/201166134/john-ottenlips-franke"
        >
          <img
            style="width: 16px; height: 16px"
            src="https://images.ctfassets.net/7x51vl0shezi/bPsKzYsWACGBTHstqFgpp/d143cbc129b57cbed94e59aee1996793/best-overall-climbing-app-mountain-project-mobile-app-logo.png"
            alt="mountainproject"
          />
          Mountain Project
        </a>

        <a
          class="link"
          href="https://www.goodreads.com/user/show/101087185-john-ottenlips"
        >
        <img
            style="width: 16px; height: 16px"
            src="https://cdn-icons-png.flaticon.com/512/4494/4494707.png"
            alt="goodreads"
          />
          Goodreads
        </a>
         
        <p>
          &copy; 2025 John Ottenlips Franke | Built with HTML, CSS, and a bit of
          JavaScript. Vim is my editor of choice! <a href="/sitemap">Sitemap Search</a>
        </p>
        <!-- https://raw.githubusercontent.com/jottenlips/jottenlips.github.io/refs/heads/main/vim_editor.gif -->
        <a href="https://www.vim.org/">
          <img
            style="width: 100px"
            src="https://raw.githubusercontent.com/jottenlips/jottenlips.github.io/refs/heads/main/vim_editor.gif"
            alt="vim editor"
          />
          </a>
       </div>

    <script>
      // hide back button on home page
      window.onload = function () {
        const backLink = document.getElementById("backLink");
        let path = window.location.pathname;

        // Hide button if we're at root
        if (path === "/") return;

        backLink.style.display = "inline";

        // Remove trailing slash (except for root)
        if (path.endsWith("/") && path !== "/") {
          path = path.slice(0, -1);
        }

        // Remove the last segment
        let parentPath = path.substring(0, path.lastIndexOf("/")) || "/";

        backLink.href = parentPath;
      };

      document.addEventListener("DOMContentLoaded", (event) => {
        document.querySelectorAll("pre code").forEach((el) => {
          hljs.highlightElement(el);
        });
      });
    </script>

    <script type="module">
      import { fairyDustCursor } from "https://unpkg.com/cursor-effects@latest/dist/esm.js";

      new fairyDustCursor({
        colors: ["#ef7455", "#e84c7e", "#32a6d6", "#23eeab"],
        fairySymbol: "‚òÖ",
      });
    </script>
  </body>
</html>
